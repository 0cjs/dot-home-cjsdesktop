#!/usr/bin/env bash
set -e

# XXX This is a pretty bad hack

inconsolata() {
    local name=Inconsolata
    local filename=$name.zip
    local url=https://fonts.google.com/download?family=$name
    local file=~/Downloads/"$filename"

    [ -s $file ] || wget -O "$file" "$url"
    cd ~/Downloads
    unzip -oq $file
    #rm OFL.txt
    mv Inconsolata*.ttf ~/.fonts/
}

source_code_pro() {
    local site=https://github.com/adobe-fonts/source-code-pro
    # The archive includes both ro[man] and [it]alic.
    local dir=2.030R-ro file=1.050R-it

    mkdir -p ~/tmp/; cd ~/tmp
    wget $site/archive/$dir/$file.tar.gz
    tar xf $file.tar.gz
    mv source-code-pro-*/OTF/*.otf ~/.fonts
    rm -r $file.tar.gz source-code-pro-*
}

ubuntu-font-family() {
    local site=https://assets.ubuntu.com/v1
    local filename=fad7939b-ubuntu-font-family-0.83.zip
    local url="$site/$filename" file=~/Downloads/"$filename"

    [ -s $file ] || wget -O "$file" "$url"
    cd ~/Downloads
    unzip -oq $file
    mv ubuntu-font-family-0.83/*.ttf ~/.fonts/
    #rm -r ubuntu-font-family-0.83/
}


mkdir -p ~/.fonts   # XXX should be ~/.local/...
inconsolata
source_code_pro
ubuntu-font-family

